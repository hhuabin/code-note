# 磁盘管理

- 单缓冲区

- 双缓冲区

  能将更多的资源放入缓冲区，等在被执行。（在缓冲区1的资源被执行的时候，缓冲区2可以读取资源，即缓冲区双线程）

磁盘移臂调度算法：

- 先来先服务
- 最短寻道优先
- 扫描算法
- 循环扫描





# 指令执行流水线

流水线周期：理论公式 $(t_1 + t_2 + ... + t_k) + (n-1)t_{最大}$

吞吐量：$\frac{1}{t}$



校验方式：

- 奇偶校验，可以检查1位错误，不可纠错。
- 循环冗余校验CRC：与生成多项式异或后拼接在尾部，不可纠错
  - 冗余位数为生成多项式的最高次幂
- 海明校验：可检错，可纠错  $2^r >= m+r+1$



# 进程

- 信号量S
- P操作  S = S - 1
- V操作  S = S + 1

初始S一般为1，这时候需要执行P操作让S=0，加锁；资源用完后执行V操作让S=1，解锁释放资源

当初始S为0时，这时候需要执行V操作让S=1，解锁释放资源；再给之后的资源执行P操作让S=0，加锁；



# 存储管理

- **页式存储**（页号，页帧号，状态位，访问位）

  逻辑地址 = 页号 + 页内地址（5148H：5H是页号，148H是页内地址）

  物理地址 = 页帧号 + 页内地址（3148H：3H是页帧号，148H是页内地址）

- **段式存储**（段号，基地址，段长）

  逻辑地址： （段号，段内偏移量）

  物理地址 = （基址，段内偏移量）

  段内偏移量不能超过段长，不然地址非法。

- **段页式存储**（段号+页号+页内地址）

  段页式存储:段式与页式的综合体。先分段，再分页。1个程序有若干个段，每个段中可以有若千页，每个页的大小相同，但每个段的大小不同。



# 文件管理

- 索引文件结构

  索引结点 -> 物理块 -> 逻辑块

  - 直接地址索引
  - 一级地址索引
  - 二级地址索引

  索引节点是连续的，物理块不一定连续，逻辑块也是连续的

- 位视图

  一位对应一个物理块。0表示空闲，1表示占用





























