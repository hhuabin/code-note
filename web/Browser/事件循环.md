# 事件循环（消息循环）（Event Loop）

 ![事件循环](./images/eventloop.jpg)

- 事件循环（Event Loop）是 JavaScript 运行时环境中**负责处理异步操作的机制**。它是**实现异步编程的基础**，**确保 JavaScript 单线程模型下的非阻塞执行**
  JavaScript 是一种单线程语言，它运行在**浏览器的渲染主线程**中，而渲染主线程只有一个。意味着它一次只能执行一个任务。然而，JavaScript 又有很多异步操作，比如**网络请求、定时器、事件监听**等，这些操作不能立即执行，而需要等待一定的时间或者在特定的条件下执行。事件循环就是用来管理这些异步操作的执行顺序的机制

事件循环由以下几个主要部分组成：

1. **调用栈（Call Stack）：** 用来存储执行上下文（Execution Context）的栈结构，用于管理代码的执行顺序。当 JavaScript 引擎执行函数时，会将该函数的执行上下文推入调用栈，当函数执行完成后，将执行上下文从调用栈中弹出。
2. **消息队列（Message Queue）：** 用来存储待执行的消息（任务）。当异步操作完成时，会生成一个消息并被添加到消息队列中。
3. **事件循环（Event Loop）：** 不断地从消息队列中取出消息，将其推入调用栈中执行。事件循环是一个持续运行的循环，它负责检查调用栈是否为空，如果为空，则从消息队列中取出消息，并将其推入调用栈中执行。这个过程不断重复，确保 JavaScript 运行时环境能够按照正确的顺序执行异步操作

简单来说，事件循环的作用就是保证 JavaScript 在**执行同步任务的同时，能够及时地处理异步操作**，使得整个程序的执行能够按照正确的顺序进行